{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nexport default _s(url => {\n  _s();\n\n  const baseUrl = 'https://conduit.productionready.io/api';\n  const [isLoading, setIsLoading] = useState(false);\n  const [response, setResponse] = useState(null);\n  const [error, setError] = useState(null);\n  const [options, setOptions] = useState({});\n\n  const doFetch = function () {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    setOptions(options);\n  };\n\n  useEffect(() => {\n    if (!isLoading) {\n      return;\n    }\n\n    axios(baseUrl + url, options).then(result => {\n      console.log('success ', result);\n      setIsLoading(false);\n      setResponse(result.data);\n    }).catch(error => {\n      console.log('error ', error);\n      setIsLoading(false);\n      setError(error.response.data);\n    });\n  });\n  return [{\n    isLoading,\n    response,\n    error\n  }, doFetch];\n}, \"gmJVJk/n15CiCgjPMRJBaAAbcKk=\");","map":{"version":3,"sources":["/home/dima/Рабочий стол/Udemy_React Hooks/react-medium-clone/React-medium-clone/src/node_modules/hooks/useFetch.js"],"names":["useState","useEffect","axios","url","baseUrl","isLoading","setIsLoading","response","setResponse","error","setError","options","setOptions","doFetch","then","result","console","log","data","catch"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,kBAAeC,GAAG,IAAI;AAAA;;AAClB,QAAMC,OAAO,GAAG,wCAAhB;AACA,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BN,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,IAAD,CAAxC;AACA,QAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM,CAACW,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC,EAAD,CAAtC;;AAEA,QAAMa,OAAO,GAAG,YAAkB;AAAA,QAAjBF,OAAiB,uEAAP,EAAO;AAC9BC,IAAAA,UAAU,CAACD,OAAD,CAAV;AACH,GAFD;;AAIAV,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAI,CAACI,SAAL,EAAgB;AACZ;AACH;;AACDH,IAAAA,KAAK,CAACE,OAAO,GAAGD,GAAX,EAAgBQ,OAAhB,CAAL,CAA8BG,IAA9B,CAAmCC,MAAM,IAAI;AACzCC,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBF,MAAxB;AACAT,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACAE,MAAAA,WAAW,CAACO,MAAM,CAACG,IAAR,CAAX;AACH,KAJD,EAIGC,KAJH,CAISV,KAAK,IAAI;AACdO,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBR,KAAtB;AACAH,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACAI,MAAAA,QAAQ,CAACD,KAAK,CAACF,QAAN,CAAeW,IAAhB,CAAR;AACH,KARD;AASH,GAbQ,CAAT;AAeA,SAAO,CAAC;AAACb,IAAAA,SAAD;AAAYE,IAAAA,QAAZ;AAAsBE,IAAAA;AAAtB,GAAD,EAA+BI,OAA/B,CAAP;AACH,CA3BD","sourcesContent":["import { useState, useEffect } from \"react\"\nimport axios from \"axios\"\n\nexport default url => {\n    const baseUrl = 'https://conduit.productionready.io/api'\n    const [isLoading, setIsLoading] = useState(false)\n    const [response, setResponse] = useState(null)\n    const [error, setError] = useState(null)\n    const [options, setOptions] = useState({})\n\n    const doFetch = (options = {}) => {\n        setOptions(options)\n    }\n\n    useEffect(() => {\n        if (!isLoading) {\n            return  \n        }\n        axios(baseUrl + url, options).then(result => {\n            console.log('success ', result)\n            setIsLoading(false)\n            setResponse(result.data)\n        }).catch(error => {\n            console.log('error ', error)\n            setIsLoading(false)  \n            setError(error.response.data)\n        })\n    })\n\n    return [{isLoading, response, error}, doFetch]\n}"]},"metadata":{},"sourceType":"module"}